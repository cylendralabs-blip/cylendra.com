# Smoke Tests - دليل الاختبارات السريعة

## نظرة عامة

Smoke Tests هي اختبارات سريعة للتأكد من أن التطبيق يعمل بشكل أساسي بعد Phase 1.

---

## الاختبارات المطلوبة

### ✅ Test 1: اختبار الواجهة (UI)

**الهدف:** التأكد من أن الواجهة تعمل بدون أخطاء

**الخطوات:**
1. شغل التطبيق: `npm run dev`
2. افتح المتصفح على `http://localhost:8080`
3. تحقق من:
   - ✅ الصفحة الرئيسية تعرض بدون أخطاء
   - ✅ لا توجد أخطاء في Console
   - ✅ القائمة الجانبية تعمل
   - ✅ التنقل بين الصفحات يعمل

**النتيجة المتوقعة:**
- ✅ لا توجد أخطاء في Console
- ✅ جميع الصفحات تتحمل بدون crash

---

### ✅ Test 2: اختبار إعدادات البوت (Bot Settings)

**الهدف:** التأكد من أن Bot Settings تعمل مع البنية الجديدة

**الخطوات:**
1. سجل دخول (أو استخدم حساب موجود)
2. اذهب إلى `/dashboard/bot-settings`
3. تحقق من:
   - ✅ الصفحة تعرض الإعدادات بدون أخطاء
   - ✅ يمكن تحميل الإعدادات من قاعدة البيانات
   - ✅ يمكن حفظ الإعدادات (إذا كان هناك API key)
   - ✅ لا توجد أخطاء في Console

**النتيجة المتوقعة:**
- ✅ الصفحة تعمل بدون أخطاء
- ✅ استخدام `@/core/config` يعمل
- ✅ لا توجد أخطاء في Console

---

### ✅ Test 3: اختبار Core Engines

**الهدف:** التأكد من أن Core Engines تعمل

**الخطوات:**
1. افتح صفحة Execute Trade أو Smart Trade
2. أدخل بيانات صفقة تجريبية
3. تحقق من:
   - ✅ الحسابات تعمل (حجم الصفقة، DCA، TP/SL)
   - ✅ لا توجد أخطاء في Console

**ملاحظة:** هذا اختبار يدوي - ليس هناك حاجة لتنفيذ صفقة حقيقية

**النتيجة المتوقعة:**
- ✅ الحسابات تعمل بشكل صحيح
- ✅ لا توجد أخطاء في Console

---

### ✅ Test 4: اختبار Environment Variables

**الهدف:** التأكد من أن متغيرات البيئة تعمل

**الخطوات:**
1. تأكد من وجود ملف `.env` (من `.env.example`)
2. شغل التطبيق: `npm run dev`
3. تحقق من Console:
   - ✅ رسالة "✅ جميع متغيرات البيئة المطلوبة موجودة"
   - ✅ لا توجد تحذيرات عن متغيرات مفقودة

**النتيجة المتوقعة:**
- ✅ جميع المتغيرات المطلوبة موجودة
- ✅ لا توجد تحذيرات

---

### ⚠️ Test 5: اختبار تنفيذ صفقة Testnet (اختياري)

**الهدف:** التأكد من أن تنفيذ الصفقات يعمل

**المتطلبات:**
- API Key من Binance Testnet
- رصيد في Testnet

**الخطوات:**
1. أضف API Key في `/dashboard/api-settings`
2. اذهب إلى `/dashboard/execute-trade`
3. أدخل بيانات صفقة testnet
4. اضغط "تنفيذ صفقة"
5. تحقق من:
   - ✅ الصفقة تم تنفيذها (أو على الأقل تمت محاولة التنفيذ)
   - ✅ لا توجد أخطاء في Console
   - ✅ لا توجد أخطاء في Supabase Functions logs

**النتيجة المتوقعة:**
- ✅ الصفقة تم تنفيذها بنجاح (أو رسالة خطأ واضحة)
- ✅ لا توجد أخطاء غير متوقعة

---

### ⚠️ Test 6: اختبار Webhook (اختياري)

**الهدف:** التأكد من أن استقبال webhooks يعمل

**المتطلبات:**
- إعداد TradingView Webhook (إن وجد)

**الخطوات:**
1. أرسل webhook تجريبي من TradingView
2. تحقق من:
   - ✅ الإشارة تم استقبالها
   - ✅ تم حفظها في قاعدة البيانات
   - ✅ لا توجد أخطاء في Supabase Functions logs

**النتيجة المتوقعة:**
- ✅ Webhook يعمل بنجاح
- ✅ البيانات تُحفظ بشكل صحيح

---

## Checklist النهائي

### اختبارات أساسية (مطلوبة):
- [x] Test 1: اختبار الواجهة ✅
- [x] Test 2: اختبار Bot Settings ✅
- [x] Test 3: اختبار Core Engines ✅
- [x] Test 4: اختبار Environment Variables ✅

### اختبارات متقدمة (اختيارية):
- [ ] Test 5: اختبار تنفيذ صفقة Testnet ⚠️
- [ ] Test 6: اختبار Webhook ⚠️

---

## كيفية تشغيل الاختبارات

### 1. اختبار الواجهة:
```bash
npm run dev
# افتح المتصفح على http://localhost:8080
# تحقق من Console للأخطاء
```

### 2. اختبار Environment Variables:
```bash
npm run dev
# تحقق من Console للرسائل
```

### 3. اختبار Core Engines:
```bash
npm run dev
# افتح صفحة Execute Trade أو Smart Trade
# جرب الحسابات
```

---

## النتيجة المتوقعة

بعد إكمال جميع الاختبارات الأساسية:
- ✅ التطبيق يعمل بدون أخطاء
- ✅ الواجهة تعمل بشكل صحيح
- ✅ البنية الجديدة تعمل
- ✅ لا توجد regressions (كسر في الميزات الموجودة)

---

## ملاحظات مهمة

1. **إذا واجهت أخطاء:**
   - راجع Console للأخطاء
   - راجع `PHASE1_PROGRESS.md` للتأكد من أن جميع المهام مكتملة
   - راجع `docs/ENVIRONMENT.md` للتأكد من أن المتغيرات صحيحة

2. **إذا كانت هناك regressions:**
   - راجع الملفات التي تم تحديثها
   - تأكد من backward compatibility
   - راجع التغييرات في `useBotSettings.ts`

---

**تاريخ الإنشاء:** 2024  
**الحالة:** جاهز للاختبار


