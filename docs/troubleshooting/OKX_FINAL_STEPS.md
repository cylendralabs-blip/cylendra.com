# โ ุงูุฎุทูุงุช ุงูููุงุฆูุฉ ูุญู ูุดููุฉ OKX

## ๐ฏ ูุง ุชู ุฅูุฌุงุฒู

1. โ ุชู ุฅุตูุงุญ ุฌููุน ูููุงุช SQL
2. โ ุชู ุฅุถุงูุฉ logging ุดุงูู ูู `getOKXBalances`
3. โ ุชู ุฅุนุงุฏุฉ ูุดุฑ Edge Function `exchange-portfolio`

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ููู ุฌุฏุงู!)

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุงููุงุฌูุฉ
1. ุงูุชุญ ุงููุงุฌูุฉ ูู ุงููุชุตูุญ
2. ุงุถุบุท **Ctrl + Shift + R** (ุชุญุฏูุซ ูุงูู ุจุฏูู cache)
3. ุฃู ุฃุบูู ุงููุชุตูุญ ูุงูุชุญู ูุฑุฉ ุฃุฎุฑู

### ุงูุฎุทูุฉ 2: ูุญุงููุฉ ุฌูุจ ุงูุฑุตูุฏ
1. ุงุฐูุจ ุฅูู **ุฅุนุฏุงุฏุงุช ุงูุจูุช** โ **ุฑุฃุณ ุงููุงู**
2. ุงุฎุชุฑ **OKX** ูู ุงููุงุฆูุฉ
3. ุงุถุบุท ุนูู ุฃููููุฉ **ุชุญุฏูุซ** (ุฅู ูุฌุฏุช) ุฃู ุงูุชุธุฑ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
4. ุฑุงูุจ Console ูู ุงููุชุตูุญ (F12)

### ุงูุฎุทูุฉ 3: ูุญุต Edge Functions Logs โญ (ุงูุฃูู!)

**ุจุนุฏ ูุญุงููุฉ ุฌูุจ ุงูุฑุตูุฏ:**
1. ุงูุชุญ: https://supabase.com/dashboard/project/pjgfrhgjbbsqsmwfljpg
2. ุงุฐูุจ ุฅูู: **Edge Functions** โ **exchange-portfolio** โ **Logs**
3. ุชุฃูุฏ ูู:
   - ุชุบููุฑ **Last hour** ุฅูู **Last 24 hours** ุฃู **All time**
   - ุฅุฒุงูุฉ ุฃู filters ูู **Severity**
4. ุงุจุญุซ ุนู ุขุฎุฑ ุงุณุชุฏุนุงุก (ูุฌุจ ุฃู ูููู ูู ุงูุฃุนูู)

**ูุง ูุฌุจ ุฃู ุชุฑุงู ูู Logs:**
```
๐ Starting OKX balance fetch...
๐ก Making OKX API request...
๐ฅ OKX API response status: 200
๐ OKX API response structure: { code: "0", ... }
๐ Full OKX API response (for debugging): { ... }
```

### ุงูุฎุทูุฉ 4: ูุดุงุฑูุฉ ุงููุชุงุฆุฌ

**ุฅุฐุง ุธูุฑุช Logs:**
- ุงูุณุฎ ุขุฎุฑ 20-30 ุณุทุฑ ูู Logs
- ุฎุงุตุฉ ุงูุณุทูุฑ ุงูุชู ุชุญุชูู ุนูู:
  - `๐ Full OKX API response (for debugging):`
  - `๐ OKX API response structure:`
  - ุฃู ุฃุฎุทุงุก (โ)

**ุฅุฐุง ูู ุชุธูุฑ Logs:**
- ุชุฃูุฏ ูู ุฃูู ููุช ุจุชุญุฏูุซ ุงููุงุฌูุฉ ูุฌูุจ ุงูุฑุตูุฏ
- ุชุญูู ูู **Invocations** tab (ูุฌุจ ุฃู ูุธูุฑ ุงุณุชุฏุนุงุก ุฌุฏูุฏ)
- ุฅุฐุง ูู ูุธูุฑ ุฃู ุงุณุชุฏุนุงุกุ ุงููุดููุฉ ูู Frontend ูููุณ Backend

---

## ๐ ุชุญููู ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุงูุณููุงุฑูู 1: OKX API ูุนูุฏ `data: []`
```
๐ OKX API response structure: { code: "0", data: [] }
๐ Full OKX API response (for debugging): { "code": "0", "msg": "", "data": [] }
```

**ุงููุนูู:** ุญุณุงุจ OKX ูุงุฑุบ ูุนูุงู (ุทุจูุนู)

**ุงูุญู:** 
- ุฅุฐุง ูุงู ุญุณุงุจ Live: ุฃุถู ุฃููุงู ุฅูู ุงูุญุณุงุจ
- ุฅุฐุง ูุงู ุญุณุงุจ Demo: ูุฏ ูุง ูุฏุนู OKX Demo ุฑุตูุฏ ูุญุงูู

### ุงูุณููุงุฑูู 2: OKX API ูุนูุฏ ุฎุทุฃ
```
โ OKX API error: 50000 Invalid API Key
```

**ุงููุนูู:** API Key ุบูุฑ ุตุญูุญ ุฃู ููุชูู ุงูุตูุงุญูุฉ

**ุงูุญู:** 
- ุชุญูู ูู API Key ูู OKX Dashboard
- ุฃูุดุฆ API Key ุฌุฏูุฏ ูุน ุตูุงุญูุงุช **Read-only**

### ุงูุณููุงุฑูู 3: OKX API ูุนูุฏ ุจูุงูุงุช ููู ูู ุชูุณูู ูุฎุชูู
```
๐ OKX API response structure: { code: "0", data: [{ ... }] }
```

**ุงููุนูู:** OKX ูุนูุฏ ุจูุงูุงุช ููู ูุฏ ุชููู ูู ุชูุณูู ูุฎุชูู

**ุงูุญู:** 
- ุดุงุฑู `๐ Full OKX API response` ูุงููุงู
- ุณุฃููู ุจุชุนุฏูู parsing logic

---

## ๐ ูู Console ูู ุงููุชุตูุญ

**ูุง ูุฌุจ ุฃู ุชุฑุงู:**
```javascript
API response for okx with market type spot: {
  success: true,
  balances_count: 0,
  market_type: 'spot',
  balances: Array(0)
}
```

**ุฅุฐุง ูุงู `success: true` ููู `balances: []`:**
- ูุฐุง ูุนูู ุฃู Edge Function ุชุนูู ุจุดูู ุตุญูุญ
- ููู OKX API ูุนูุฏ ุจูุงูุงุช ูุงุฑุบุฉ
- ูุฌุจ ูุญุต Edge Functions Logs ููุนุฑูุฉ ุงูุณุจุจ

---

## โ Checklist

- [ ] ุชู ุชุญุฏูุซ ุงููุงุฌูุฉ (Ctrl + Shift + R)
- [ ] ุชู ูุญุงููุฉ ุฌูุจ ุงูุฑุตูุฏ ูู ุงููุงุฌูุฉ
- [ ] ุชู ูุญุต Edge Functions Logs
- [ ] ุชู ูุดุงุฑูุฉ Logs (ุฅุฐุง ุธูุฑุช)
- [ ] ุชู ูุญุต Console ูู ุงููุชุตูุญ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

1. **ุชุญูู ูู API Key ูู OKX Dashboard:**
   - ุชุฃูุฏ ูู ุฃู API Key ูุดุท
   - ุชุฃูุฏ ูู ุฃู API Key ูุฏูู ุตูุงุญูุงุช **Read-only**
   - ุชุฃูุฏ ูู ุฃู Passphrase ุตุญูุญ

2. **ุงุฎุชุจุฑ API Key ูุจุงุดุฑุฉ:**
   - ุงุณุชุฎุฏู OKX API Documentation
   - ุฃู ุงุณุชุฎุฏู Postman/curl ูุงุฎุชุจุงุฑ API Key

3. **ุชุญูู ูู ููุน ุงูุญุณุงุจ:**
   - ุฅุฐุง ูุงู Demo: ูุฏ ูุง ูุฏุนู OKX Demo ุฑุตูุฏ ูุญุงูู
   - ุฌุฑุจ ุญุณุงุจ Live ุจุฏูุงู ูู Demo

